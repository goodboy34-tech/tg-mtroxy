# –ß–¢–û –ò–°–ü–†–ê–í–õ–ï–ù–û - –ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è

## 3 –≥–ª–∞–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:

### 1Ô∏è‚É£ –ë–æ—Ç –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª –≤–≤–æ–¥ username/password –¥–ª—è SOCKS5
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–Ω–æ–ø–∫–∞ "‚ûï SOCKS5" —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∞ `action: 'add_socks5'`, –Ω–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ –ø—Ä–æ–≤–µ—Ä—è–ª —ç—Ç–æ—Ç action.

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –±–ª–æ–∫ –≤ `bot.on(message('text'))`:
```typescript
if (state.action === 'add_socks5') {
  // –ü–∞—Ä—Å–∏—Ç username –∏ password –∏–∑ —Ç–µ–∫—Å—Ç–∞
  // –î–æ–±–∞–≤–ª—è–µ—Ç –≤ –ë–î –∏ –Ω–∞ –Ω–æ–¥—É —á–µ—Ä–µ–∑ API
  // –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç deep link
}
```

### 2Ô∏è‚É£ Node-agent –Ω–µ –º–æ–≥ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ SOCKS5
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `updateSocks5Config()` –ø—ã—Ç–∞–ª–∞—Å—å –Ω–∞–π—Ç–∏ –∏ –∏–∑–º–µ–Ω–∏—Ç—å `docker-compose.yml` —Ä–µ–≥—É–ª—è—Ä–∫–∞–º–∏, —á—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–æ.

**–†–µ—à–µ–Ω–∏–µ:** –¢–µ–ø–µ—Ä—å –Ω–∞–ø—Ä—è–º—É—é —É–ø—Ä–∞–≤–ª—è–µ—Ç Docker:
```bash
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ä—ã–π
docker stop mtproxy-socks5 && docker rm mtproxy-socks5

# –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—ã–π —Å –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
docker run -d --name=mtproxy-socks5 \
  -p 1080:1080 \
  ginuerzh/gost -L=socks5://user1:pass1,user2:pass2@:1080
```

### 3Ô∏è‚É£ –ö–æ–º–∞–Ω–¥–∞ /add_socks5 —Ä–∞–±–æ—Ç–∞–ª–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–æ–º–∞–Ω–¥–∞ `/add_socks5` –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª–∞ —Å–ª—É—á–∞–π–Ω—ã–µ username/password –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–≤–æ–¥–∞.

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/add_socks5`. –¢–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É —Å –¥–∏–∞–ª–æ–≥–æ–º.

---

## –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
cd /root/eeee
git pull
docker compose build
docker compose down && docker compose up -d
```

## –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:

1. –í –±–æ—Ç–µ: "üîó –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∞–º–∏" ‚Üí –≤—ã–±—Ä–∞—Ç—å –Ω–æ–¥—É ‚Üí "‚ûï SOCKS5"
2. –û—Ç–ø—Ä–∞–≤–∏—Ç—å:
   ```
   username: test
   password: 123456
   ```
3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–∞ —Å –∫–Ω–æ–ø–∫–æ–π

## –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω?
docker ps | grep socks5

# –†–∞–±–æ—Ç–∞–µ—Ç?
curl -x socks5://test:123456@localhost:1080 https://ifconfig.me
```

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –ø–∏—à–∏—Ç–µ, –ø–æ—Å–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏!
