# –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã

## 1. –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ MTProto –ø–æ –¥–æ–º–µ–Ω—É?

### –ö–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:
–ù–∞–ø—Ä–∞–≤–∏—Ç—å –¥–æ–º–µ–Ω –Ω–∞ IP –Ω–æ–¥—ã —á–µ—Ä–µ–∑ DNS A –∑–∞–ø–∏—Å—å + —É–∫–∞–∑–∞—Ç—å `DOMAIN` –∏ `INTERNAL_IP` –≤ `.env` –Ω–æ–¥—ã.

### –ü–æ–¥—Ä–æ–±–Ω–æ:

#### –®–∞–≥ 1: DNS –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
–°–æ–∑–¥–∞–π—Ç–µ A –∑–∞–ø–∏—Å—å –≤ –≤–∞—à–µ–º DNS –ø—Ä–æ–≤–∞–π–¥–µ—Ä–µ:
```
proxy1.example.com  ‚Üí  1.2.3.4  (IP –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
```

#### –®–∞–≥ 2: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –Ω–æ–¥—ã
–í —Ñ–∞–π–ª–µ `.env` –Ω–∞ –Ω–æ–¥–µ —É–∫–∞–∂–∏—Ç–µ:
```bash
DOMAIN=proxy1.example.com
INTERNAL_IP=10.0.0.5  # –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞ NAT (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ –æ–±–ª–∞–∫–µ)
# –ï—Å–ª–∏ –ø—Ä—è–º–æ–π IP, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º: INTERNAL_IP=
```

#### –®–∞–≥ 3: MTProxy –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç --nat-info
–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ MTProxy Node Agent –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç —Ñ–ª–∞–≥:
```bash
--nat-info 10.0.0.5:proxy1.example.com
```

#### –®–∞–≥ 4: –ö–ª–∏–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –¥–æ–º–µ–Ω—É
–°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:
```
tg://proxy?server=proxy1.example.com&port=443&secret=dd1234...
```

### –ó–∞—á–µ–º –Ω—É–∂–µ–Ω INTERNAL_IP?

–ï—Å–ª–∏ –≤–∞—à —Å–µ—Ä–≤–µ—Ä –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∑–∞ NAT (AWS, Google Cloud, Azure –∏ —Ç.–¥.), —É –Ω–µ–≥–æ –µ—Å—Ç—å:
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP** (10.0.0.5) - –∞–¥—Ä–µ—Å –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
- **–í–Ω–µ—à–Ω–∏–π IP** (1.2.3.4) - –ø—É–±–ª–∏—á–Ω—ã–π –∞–¥—Ä–µ—Å

MTProxy –¥–æ–ª–∂–µ–Ω —Å–ª—É—à–∞—Ç—å –Ω–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–º IP, –Ω–æ –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–¥–∫–ª—é—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π (–¥–æ–º–µ–Ω).

–§–ª–∞–≥ `--nat-info INTERNAL_IP:DOMAIN` —Å–æ–æ–±—â–∞–µ—Ç MTProxy:
- –°–ª—É—à–∞—Ç—å –Ω–∞ `10.0.0.5`
- –°–æ–æ–±—â–∞—Ç—å –∫–ª–∏–µ–Ω—Ç–∞–º, —á—Ç–æ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –Ω—É–∂–Ω–æ –∫ `proxy1.example.com`

### –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Å –ø—Ä—è–º—ã–º IP?

–¢–æ–≥–¥–∞ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∂–∏—Ç–µ:
```bash
DOMAIN=proxy1.example.com
INTERNAL_IP=  # –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º
```

MTProxy –Ω–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å --nat-info.

---

## 2. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ –∫ 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –ê–Ω–∞–ª–∏–∑ –Ω–∞–≥—Ä—É–∑–∫–∏

#### MTProxy –≤–æ—Ä–∫–µ—Ä—ã
- 1 –≤–æ—Ä–∫–µ—Ä = –¥–æ **60 000** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: 1 –≤–æ—Ä–∫–µ—Ä –Ω–∞ 1 CPU —è–¥—Ä–æ

#### –†–µ–∞–ª—å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ
- 1 –∞–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚âà 5-10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π Telegram
- 1 –≤–æ—Ä–∫–µ—Ä —Ä–µ–∞–ª—å–Ω–æ –¥–µ—Ä–∂–∏—Ç ~**1000-1500 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

#### –†–∞—Å—á—ë—Ç –¥–ª—è 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

##### –í–∞—Ä–∏–∞–Ω—Ç 1: 3 –Ω–æ–¥—ã –ø–æ 4 –≤–æ—Ä–∫–µ—Ä–∞
```
–ù–æ–¥–∞ 1 (4 –≤–æ—Ä–∫–µ—Ä–∞): 1500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–æ–¥–∞ 2 (4 –≤–æ—Ä–∫–µ—Ä–∞): 1500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–æ–¥–∞ 3 (4 –≤–æ—Ä–∫–µ—Ä–∞): 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ:              4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

##### –í–∞—Ä–∏–∞–Ω—Ç 2: 4 –Ω–æ–¥—ã –ø–æ 4 –≤–æ—Ä–∫–µ—Ä–∞
```
–ù–æ–¥–∞ 1: 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–æ–¥–∞ 2: 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–æ–¥–∞ 3: 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ù–æ–¥–∞ 4: 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ:  4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –Ω–æ–¥—ã:
- **CPU**: 4 —è–¥—Ä–∞ (4 –≤–æ—Ä–∫–µ—Ä–∞)
- **RAM**: 2 GB
- **–°–µ—Ç—å**: 1 Gbps (1000 –ú–±–∏—Ç/—Å)
- **–¢—Ä–∞—Ñ–∏–∫**: ~500 GB/–º–µ—Å—è—Ü –Ω–∞ 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ:
- **CPU**: 4-8 —è–¥–µ—Ä
- **RAM**: 4 GB
- **–°–µ—Ç—å**: 1-10 Gbps
- **SSD**: 20 GB (–¥–ª—è –ª–æ–≥–æ–≤)

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (SQLite)

#### –ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ë–î:
```
4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π √ó 3 —Å–µ–∫—Ä–µ—Ç–∞ = 12 000 –∑–∞–ø–∏—Å–µ–π mtproto_secrets
4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π √ó 1 SOCKS5   = 4 000 –∑–∞–ø–∏—Å–µ–π socks5_accounts
–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ 7 –¥–Ω–µ–π √ó 3 –Ω–æ–¥—ã       = ~3 000 –∑–∞–ø–∏—Å–µ–π node_stats
–õ–æ–≥–∏ 7 –¥–Ω–µ–π √ó 3 –Ω–æ–¥—ã             = ~5 000 –∑–∞–ø–∏—Å–µ–π logs
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
–ò—Ç–æ–≥–æ:                            ~24 000 –∑–∞–ø–∏—Å–µ–π
–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ë–î:                  ~5 MB
```

SQLite –ª–µ–≥–∫–æ —Å–ø—Ä–∞–≤–∏—Ç—Å—è. –ü—Ä–∏ –º–∏–ª–ª–∏–æ–Ω–µ –∑–∞–ø–∏—Å–µ–π –±—É–¥–µ—Ç ~200 MB.

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏

–ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```
/stats   - —Ç–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –≤—Å–µ –Ω–æ–¥—ã
/health  - –∑–¥–æ—Ä–æ–≤—å–µ –Ω–æ–¥ (CPU, RAM)
/node 1  - –¥–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–æ–¥—ã
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞ `/stats`:
```
üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ù–æ–¥ –∞–∫—Ç–∏–≤–Ω–æ: 3

–ù–æ–¥–∞ 1 (–ì–µ—Ä–º–∞–Ω–∏—è)
  MTProto: 1234/240000
  SOCKS5: 456
  CPU: 45.2% | RAM: 62.8%

–ù–æ–¥–∞ 2 (–°–®–ê)
  MTProto: 987/240000
  SOCKS5: 321
  CPU: 38.1% | RAM: 55.3%

–ù–æ–¥–∞ 3 (–ê–∑–∏—è)
  MTProto: 654/240000
  SOCKS5: 198
  CPU: 29.7% | RAM: 48.9%

–ò—Ç–æ–≥–æ:
MTProto –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: 2875
SOCKS5 –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π: 975
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç **–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç** –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –Ω–æ–¥:
- –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –ë–î
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å (online/offline/error)

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è 4000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

1. **–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
   - –ï–≤—Ä–æ–ø–∞: 1-2 –Ω–æ–¥—ã
   - –°–®–ê: 1 –Ω–æ–¥–∞
   - –ê–∑–∏—è: 1 –Ω–æ–¥–∞

2. **–ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º**
   ```
   /create_subscription –ï–≤—Ä–æ–ø–∞
   /create_subscription –°–®–ê
   /create_subscription –ê–∑–∏—è
   ```
   –ö–∞–∂–¥–∞—è –ø–æ–¥–ø–∏—Å–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–æ–¥—ã —Ä–µ–≥–∏–æ–Ω–∞.

3. **–†–µ–∑–µ—Ä–≤–Ω—ã–µ –Ω–æ–¥—ã**
   –î–µ—Ä–∂–∏—Ç–µ 1 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –Ω–æ–¥—É –Ω–∞ —Å–ª—É—á–∞–π –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏.

4. **–ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏**
   –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
   - –ü–æ–¥–ø–∏—Å–∫–∞ 1: –ù–æ–¥—ã 1, 2 (2000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
   - –ü–æ–¥–ø–∏—Å–∫–∞ 2: –ù–æ–¥—ã 3, 4 (2000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## 3. SOCKS5 —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **3proxy** –≤–º–µ—Å—Ç–æ Dante –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ username/password –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.

### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

#### 1. Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
–í `docker-compose.node.yml`:
```yaml
socks5:
  image: tarampampam/3proxy:latest
  ports:
    - "${SOCKS5_PORT}:1080"
  volumes:
    - ./socks5/3proxy.cfg:/etc/3proxy/3proxy.cfg
  restart: unless-stopped
```

#### 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª
Node Agent –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `socks5/3proxy.cfg`:
```
log /dev/stdout
nscache 65536
timeouts 1 5 30 60 180 1800 15 60

internal 0.0.0.0
external 0.0.0.0

# –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
users alice:CL:SecurePassword123
users bob:CL:AnotherPass456

# –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
auth strong

# SOCKS5 –Ω–∞ –ø–æ—Ä—Ç—É 1080
socks -p1080
flush
```

#### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

**–ö–æ–º–∞–Ω–¥–∞ (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ):**
```
/add_socks5 1
```

1. –ë–æ—Ç —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç username
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–π –ø–∞—Ä–æ–ª—å
3. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ Node Agent
4. Node Agent –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–Ω—Ñ–∏–≥
5. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç SOCKS5 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

**–°—Å—ã–ª–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
```
socks5://alice:SecurePassword123@proxy1.example.com:1080
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SOCKS5

#### –í Telegram Desktop:
```
Settings ‚Üí Advanced ‚Üí Connection type ‚Üí Use custom proxy
Type: SOCKS5
Hostname: proxy1.example.com
Port: 1080
Username: alice
Password: SecurePassword123
```

#### –í –¥—Ä—É–≥–∏—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö:
–õ—é–±–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π SOCKS5 proxy (–±—Ä–∞—É–∑–µ—Ä—ã, –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã, —Ç–æ—Ä—Ä–µ–Ω—Ç—ã).

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è username/password
- ‚úÖ –¢–æ–ª—å–∫–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- ‚úÖ –ö–∞–∂–¥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —Å–≤–æ–π –ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

---

## 4. –ì–æ—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤ Telegram

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ!

–ë–æ—Ç –º–æ–∂–µ—Ç –≤—ã–¥–∞–≤–∞—Ç—å 3 —Ñ–æ—Ä–º–∞—Ç–∞:

### 1. –û–±—ã—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ (–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é)

–ö–æ–º–∞–Ω–¥–∞:
```
/links 1
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
```
üîó –°—Å—ã–ª–∫–∏ –¥–ª—è –ù–æ–¥–∞ 1

MTProto (Fake-TLS):
tg://proxy?server=proxy1.com&port=443&secret=dd1234...

MTProto (–æ–±—ã—á–Ω—ã–π):
tg://proxy?server=proxy1.com&port=443&secret=ee5678...

SOCKS5:
socks5://user1:pass1@proxy1.com:1080
```

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ —Å—Å—ã–ª–∫—É ‚Üí Telegram —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç "–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏?" ‚Üí –ì–æ—Ç–æ–≤–æ.

### 2. JSON –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞

–ö–æ–º–∞–Ω–¥–∞:
```
/subscription 1
üì• JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ (–∫–Ω–æ–ø–∫–∞)
```

–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–∞–π–ª `subscription_1.json`:
```json
{
  "name": "VIP –î–æ—Å—Ç—É–ø",
  "description": "–í—Å–µ –ø—Ä–æ–∫—Å–∏",
  "proxies": [
    {
      "_": "inputMediaProxyServer",
      "server": "proxy1.example.com",
      "port": 443,
      "secret": "dd1234567890abcdef..."
    },
    {
      "_": "inputMediaProxyServer",
      "server": "proxy2.example.com",
      "port": 443,
      "secret": "dd9876543210fedcba..."
    },
    {
      "_": "inputMediaProxyServer",
      "server": "proxy1.example.com",
      "port": 1080,
      "username": "alice",
      "password": "SecurePassword123",
      "type": "socks5"
    }
  ]
}
```

**–ò–º–ø–æ—Ä—Ç –≤ Telegram Desktop:**
1. Settings ‚Üí Advanced ‚Üí Network and proxy
2. –ö–Ω–æ–ø–∫–∞ ‚ãÆ (—Ç—Ä–∏ —Ç–æ—á–∫–∏) ‚Üí Import from file
3. –í—ã–±—Ä–∞—Ç—å `subscription_1.json`
4. –í—Å–µ –ø—Ä–æ–∫—Å–∏ –¥–æ–±–∞–≤—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### 3. –ü–æ–¥–ø–∏—Å–∫–∏ (—É–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —Å–ø–∏—Å–∫–∏)

–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–ø–∏—Å–∫—É:
```
/create_subscription –î–ª—è –¥—Ä—É–∑–µ–π
```

–í—ã–±–µ—Ä–∏—Ç–µ –Ω–æ–¥—ã ‚Üí –ü–æ–ª—É—á–∏—Ç–µ:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–∫—Å–∏
- JSON —Ñ–∞–π–ª
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–∫—Å–∏ —Ä–∞–∑–æ–º)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ:** –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏—Ç–µ –Ω–æ–≤—ã–µ —Å–µ–∫—Ä–µ—Ç—ã, –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ "üîÑ –û–±–Ω–æ–≤–∏—Ç—å" –≤ –ø–æ–¥–ø–∏—Å–∫–µ.

---

## 5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

#### 1. –°–æ–∑–¥–∞–Ω–∏–µ
```
/create_subscription VIP –î–æ—Å—Ç—É–ø
```
–í—ã–±–∏—Ä–∞–µ—Ç–µ –Ω–æ–¥—ã —á–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫–∏.

#### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞
```
/subscriptions
```

–í–∏–¥–∏—Ç–µ:
```
üìã –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫

üü¢ VIP –î–æ—Å—Ç—É–ø
ID: 1
–ù–æ–¥: 3
MTProto: ‚úÖ | SOCKS5: ‚úÖ
–û–±—Ä–∞—â–µ–Ω–∏–π: 45

üî¥ –¢–µ—Å—Ç–æ–≤–∞—è
ID: 2
–ù–æ–¥: 1
MTProto: ‚úÖ | SOCKS5: ‚ùå
–û–±—Ä–∞—â–µ–Ω–∏–π: 12
```

#### 3. –î–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏
```
/subscription 1
```

–ü–æ–ª—É—á–∞–µ—Ç–µ:
- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- –°–ø–∏—Å–æ–∫ –ø—Ä–æ–∫—Å–∏
- –ì–æ—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏
- –ö–Ω–æ–ø–∫–∏:
  - üì• JSON –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
  - üîÑ –û–±–Ω–æ–≤–∏—Ç—å
  - ‚è∏ –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
  - üóë –£–¥–∞–ª–∏—Ç—å

#### 4. –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è (–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ)
–ù–∞–∂–∏–º–∞–µ—Ç–µ **‚è∏ –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å** ‚Üí –ø—Ä–æ–∫—Å–∏ –±–æ–ª—å—à–µ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º.

–ù–∞–∂–∏–º–∞–µ—Ç–µ **‚ñ∂Ô∏è –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å** ‚Üí —Å–Ω–æ–≤–∞ –≤–∫–ª—é—á–∞—é—Ç—Å—è.

#### 5. –£–¥–∞–ª–µ–Ω–∏–µ
–ù–∞–∂–∏–º–∞–µ—Ç–µ **üóë –£–¥–∞–ª–∏—Ç—å** ‚Üí –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç–µ ‚Üí –ø–æ–¥–ø–∏—Å–∫–∞ —É–¥–∞–ª–µ–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞.

**–í–∞–∂–Ω–æ:** –°–∞–º–∏ –ø—Ä–æ–∫—Å–∏ –Ω–∞ –Ω–æ–¥–∞—Ö –æ—Å—Ç–∞—é—Ç—Å—è, —É–¥–∞–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞.

---

## 6. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞ `/add_node` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é:
```
üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –Ω–æ–¥—ã

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node Agent –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ: ./scripts/setup-node.sh
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞
4. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–¥—É –≤ –ë–î –≤—Ä—É—á–Ω—É—é (–≤—Ä–µ–º–µ–Ω–Ω–æ)

–°–∫–æ—Ä–æ –¥–æ–±–∞–≤–∏–º –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º!
```

### –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **Telegraf Scenes** –∏–ª–∏ **Wizard** –¥–ª—è –¥–∏–∞–ª–æ–≥–∞:

```typescript
// –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∏–∞–ª–æ–≥–∞
bot.command('add_node', async (ctx) => {
  ctx.scene.enter('add_node_wizard');
});

const addNodeWizard = new Scenes.WizardScene(
  'add_node_wizard',
  // –®–∞–≥ 1: –ù–∞–∑–≤–∞–Ω–∏–µ
  async (ctx) => {
    await ctx.reply('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: –ì–µ—Ä–º–∞–Ω–∏—è-1):');
    return ctx.wizard.next();
  },
  // –®–∞–≥ 2: –î–æ–º–µ–Ω
  async (ctx) => {
    const name = ctx.message.text;
    ctx.wizard.state.name = name;
    await ctx.reply('–í–≤–µ–¥–∏—Ç–µ –¥–æ–º–µ–Ω –Ω–æ–¥—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä: proxy1.example.com):');
    return ctx.wizard.next();
  },
  // –®–∞–≥ 3: IP
  async (ctx) => {
    const domain = ctx.message.text;
    ctx.wizard.state.domain = domain;
    await ctx.reply('–í–≤–µ–¥–∏—Ç–µ IP –∞–¥—Ä–µ—Å –Ω–æ–¥—ã:');
    return ctx.wizard.next();
  },
  // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ
  // –ü–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥: —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
  async (ctx) => {
    const data = ctx.wizard.state;
    queries.insertNode.run(data);
    await ctx.reply('‚úÖ –ù–æ–¥–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!');
    return ctx.scene.leave();
  }
);
```

### –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å –¥–∏–∞–ª–æ–≥:
1. **–ù–∞–∑–≤–∞–Ω–∏–µ**: –ì–µ—Ä–º–∞–Ω–∏—è-1
2. **–î–æ–º–µ–Ω**: proxy1.example.com
3. **IP**: 1.2.3.4
4. **API URL**: https://proxy1.example.com:8080
5. **MTProto –ø–æ—Ä—Ç**: 443
6. **SOCKS5 –ø–æ—Ä—Ç**: 1080
7. **–í–æ—Ä–∫–µ—Ä—ã**: 4
8. **CPU —è–¥–µ—Ä**: 4
9. **RAM (MB)**: 4096

–ü–æ—Å–ª–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è API —Ç–æ–∫–µ–Ω
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î
- –í—ã–≤–æ–¥—è—Ç—Å—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## –í—ã–≤–æ–¥—ã

### ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:
1. **–î–æ–º–µ–Ω—ã** - –ø—Ä–æ—Å—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å DNS + —É–∫–∞–∑–∞—Ç—å –≤ .env
2. **4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –Ω—É–∂–Ω–æ 3-4 –Ω–æ–¥—ã
3. **SOCKS5 —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ 3proxy
4. **Telegram –∏–º–ø–æ—Ä—Ç** - –µ—Å—Ç—å JSON —ç–∫—Å–ø–æ—Ä—Ç –∏ ready-to-use —Å—Å—ã–ª–∫–∏
5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏** - –ø–æ–ª–Ω—ã–π CRUD (—Å–æ–∑–¥–∞—Ç—å/–ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å/–¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª–∏—Ç—å)

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:
1. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã** - –Ω—É–∂–µ–Ω Wizard
2. **–ö–æ–º–∞–Ω–¥–∞ /add_socks5** - –∞–Ω–∞–ª–æ–≥ /add_secret –¥–ª—è SOCKS5
3. **–ö–æ–º–∞–Ω–¥–∞ /logs** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –Ω–æ–¥—ã
4. **–ö–æ–º–∞–Ω–¥–∞ /set_workers** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–æ—Ä–∫–µ—Ä–æ–≤

### üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm install`
2. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç: `npm run build`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
4. –°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—ã–µ –Ω–æ–¥—ã –∏ –ø–æ–¥–ø–∏—Å–∫–∏
5. –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –∏ —Å–ø–æ—Å–æ–±–µ–Ω –æ–±—Å–ª—É–∂–∏–≤–∞—Ç—å 4000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π!**
