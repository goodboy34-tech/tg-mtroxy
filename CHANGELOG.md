# Changelog

## [2026-02-11] - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UX –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

‚úÖ **–ö–æ–º–∞–Ω–¥–∞ `/set_ad_tag`** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–∫–ª–∞–º–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏ MTProxy
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–µ–≥–∞ (16 hex —Å–∏–º–≤–æ–ª–æ–≤)
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è: `/set_ad_tag <node_id> none`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ MTProxy
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ –≤ —Å–ø–∏—Å–∫–µ –Ω–æ–¥**
- `/nodes` —Ç–µ–ø–µ—Ä—å —Å inline –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–¥—ã
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: —Å—Ç–∞—Ç—É—Å, uptime, CPU, RAM, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ö–Ω–æ–ø–∫–∏: –°—Å—ã–ª–∫–∏, –†–µ—Å—Ç–∞—Ä—Ç, –õ–æ–≥–∏, –£–¥–∞–ª–∏—Ç—å
- –ù–∞–≤–∏–≥–∞—Ü–∏—è: "–û–±–Ω–æ–≤–∏—Ç—å" –∏ "–ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É"

‚úÖ **–ü–æ–∫–∞–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º**
- `mtproxy-node update` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–º–º–∏—Ç—ã –∏ diff
- –ó–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º
- –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –¥–ª—è `mtproxy-control update`

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞/IP**
- –°—Å—ã–ª–∫–∏ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–µ—Ä–≤–µ—Ä –∏–∑ description —Å–µ–∫—Ä–µ—Ç–∞
- –§–æ—Ä–º–∞—Ç: "–î–æ–º–µ–Ω: xxx" –∏–ª–∏ "IP: xxx"
- Fallback –Ω–∞ node.domain

üîß **–ó–∞—â–∏—Ç–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏**
- –ü–æ–ª–Ω—ã–π backup –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –≤ `/tmp/mtproxy-backup-*`
- –í–∫–ª—é—á–∞–µ—Ç: .env, secrets, accounts
- –í—Å–µ –≤–∞–∂–Ω—ã–µ —Ñ–∞–π–ª—ã –≤ .gitignore
- Fallback –º–µ—Ç–æ–¥ –Ω–µ —É–¥–∞–ª—è–µ—Ç –ø–∞–ø–∫—É node-agent

### –£–ª—É—á—à–µ–Ω–∏—è

‚ö° **–£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–µ—Ç–∏**
- –ú–µ—Ç–æ–¥ /proc/net/dev (–≤—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã)
- –ò—Å–∫–ª—é—á–µ–Ω—ã loopback –∏ docker
- –ü–∞—Ä—Å–∏–Ω–≥ GB/kB/MB –µ–¥–∏–Ω–∏—Ü
- 3 —É—Ä–æ–≤–Ω—è fallback

‚ö° **–£–ª—É—á—à–µ–Ω–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ node-agent**
- Git clone –≤–º–µ—Å—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- Git pull –æ–±–Ω–æ–≤–ª—è–µ—Ç –í–°–Æ –ø–∞–ø–∫—É node-agent
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ docker-compose.node.yml –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
- –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–∂–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

### –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. ‚úÖ –î–æ–º–µ–Ω —Ç–µ—Ä—è–ª—Å—è –≤ —Å—Å—ã–ª–∫–∞—Ö ‚Üí –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ description
2. ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∞—Å—å ‚Üí /proc/net/dev
3. ‚úÖ –ù–µ—Ç UI –¥–ª—è AD_TAG ‚Üí –∫–æ–º–∞–Ω–¥–∞ `/set_ad_tag`
4. ‚úÖ –°–ø–∏—Å–æ–∫ –±–µ–∑ –∫–Ω–æ–ø–æ–∫ ‚Üí –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
5. ‚úÖ Update –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ‚Üí –ø–æ–∫–∞–∑ diff
6. ‚úÖ –ü–æ—Ç–µ—Ä—è –Ω–∞—Å—Ç—Ä–æ–µ–∫ ‚Üí backup –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

---

# –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

## –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

‚úÖ **–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ Dante SOCKS5** - –∑–∞–º–µ–Ω–∞ 3proxy –Ω–∞ Dante –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å Docker  
‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º —á–µ—Ä–µ–∑ –≥—Ä—É–ø–ø—ã –ø—Ä–æ–∫—Å–∏  
‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —ç–∫—Å–ø–æ—Ä—Ç –≤ Telegram** - JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –º–∞—Å—Å–æ–≤–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–æ–∫—Å–∏  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ –Ω–∞–≥—Ä—É–∑–∫—É  
‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** - –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤—Å–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º  

---

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `docker-compose.node.yml`
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- SOCKS5 image: `tarampampam/3proxy:latest` ‚Üí `vimagick/dante:latest`
- Volume: `./socks5/3proxy.cfg` ‚Üí `./socks5/sockd.conf` + `./socks5/sockd.passwd`
- –£–±—Ä–∞–Ω–∞ read-only —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (Dante –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫)

**–ó–∞—á–µ–º:**
3proxy –∏–º–µ–ª –ø—Ä–æ–±–ª–µ–º—ã —Å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏ –∏–∑-–∑–∞ read-only —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã. Dante –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª–µ–Ω.

---

### 2. `node-agent/src/api.ts`
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- –§—É–Ω–∫—Ü–∏—è `updateSocks5Config()` –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞ –¥–ª—è Dante —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π username/password

**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (Dante):**
```conf
logoutput: /dev/stdout
internal: 0.0.0.0 port = 1080
external: 0.0.0.0
clientmethod: none
socksmethod: username
user.privileged: root
user.unprivileged: nobody
user.libwrap: nobody

client pass {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  log: connect disconnect error
}

socks pass {
  from: 0.0.0.0/0 to: 0.0.0.0/0
  protocol: tcp udp
  log: connect disconnect error
}
```

**–§–∞–π–ª –ø–∞—Ä–æ–ª–µ–π (sockd.passwd):**
```
username1:password1
username2:password2
```

**–ó–∞—á–µ–º:**
Dante –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª–µ–Ω –≤ Docker –∏ –ø—Ä–æ—â–µ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, —á–µ–º 3proxy.
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- –§—É–Ω–∫—Ü–∏—è `updateSocks5Config()` –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–ø–∏—Å–∞–Ω–∞

**–°—Ç–∞—Ä—ã–π —Ñ–æ—Ä–º–∞—Ç (Dante):**
```conf
logoutput: stderr
internal: 0.0.0.0 port = 1080
external: eth0
clientmethod: none
socksmethod: username
```

**–ù–æ–≤—ã–π —Ñ–æ—Ä–º–∞—Ç (3proxy):**
```conf
log /dev/stdout
nscache 65536
internal 0.0.0.0
external 0.0.0.0
users username:CL:password
auth strong
socks -p1080
flush
```

**–ó–∞—á–µ–º:**
3proxy —Ç—Ä–µ–±—É–µ—Ç —Å–≤–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –∫–æ–Ω—Ñ–∏–≥–∞. –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–∞—Ä–æ–ª—è–º–∏.

---

### 3. `node-agent/tsconfig.json`
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ: `"types": ["node"]`
- –î–æ–±–∞–≤–ª–µ–Ω–æ: `"moduleResolution": "node"`

**–ó–∞—á–µ–º:**
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ TypeScript –æ—à–∏–±–æ–∫ –¥–ª—è Node.js –æ–∫—Ä—É–∂–µ–Ω–∏—è.

---

### 4. `src/bot.ts`
**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**
- –ò–º–ø–æ—Ä—Ç: –¥–æ–±–∞–≤–ª–µ–Ω `SubscriptionManager` –∏ `SubscriptionFormatter`
- –ò–º–ø–æ—Ä—Ç: `from './database-new'` ‚Üí `from './database'`
- –°–ø—Ä–∞–≤–∫–∞ `/help`: –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–ü–æ–¥–ø–∏—Å–∫–∏"
- –ù–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:
  - `/create_subscription <–Ω–∞–∑–≤–∞–Ω–∏–µ>`
  - `/subscriptions`
  - `/subscription <id>`
- –ù–æ–≤—ã–µ callback actions:
  - `sub_export_X` - —ç–∫—Å–ø–æ—Ä—Ç JSON
  - `sub_refresh_X` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
  - `sub_toggle_X` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å
  - `sub_delete_X` - —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É

**–ó–∞—á–µ–º:**
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

---

### 5. `src/subscription-manager.ts` (–Ω–æ–≤—ã–π —Ñ–∞–π–ª)
**–ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ:**

#### –ö–ª–∞—Å—Å `SubscriptionManager`
–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:
- `createSubscription()` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–æ–¥–ø–∏—Å–∫—É
- `getSubscriptionProxies()` - –ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ø–æ–¥–ø–∏—Å–∫–∏
- `generateSubscriptionLinks()` - —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å tg:// –∏ socks5:// —Å—Å—ã–ª–∫–∏
- `generateTelegramImportJson()` - —ç–∫—Å–ø–æ—Ä—Ç JSON –¥–ª—è Telegram
- `toggleSubscription()` - –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `updateSubscription()` - –æ–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `deleteSubscription()` - —É–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `getSubscriptionStats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏

#### –ö–ª–∞—Å—Å `SubscriptionFormatter`
–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:
- `formatProxiesForTelegram()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è Telegram (Markdown)
- `formatSubscriptionInfo()` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–ø–∏—Å–∫–µ

**–ó–∞—á–µ–º:**
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏.

---

## –°–æ–∑–¥–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

### 1. `UPDATES.md`
–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π changelog —Å –¥–µ—Ç–∞–ª—è–º–∏ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π:
- SOCKS5 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (3proxy)
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å –¥–ª—è 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–æ–º–µ–Ω—ã –¥–ª—è MTProto
- –°–ø–∏—Å–æ–∫ –≥–æ—Ç–æ–≤—ã—Ö –∏ —Ç—Ä–µ–±—É—é—â–∏—Ö –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–º–∞–Ω–¥

### 2. `SUBSCRIPTIONS-GUIDE.md`
–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —Ä–∞–±–æ—Ç–µ —Å –ø–æ–¥–ø–∏—Å–∫–∞–º–∏:
- –ß—Ç–æ —Ç–∞–∫–æ–µ –ø–æ–¥–ø–∏—Å–∫–∏
- –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- FAQ
- Roadmap –±—É–¥—É—â–∏—Ö –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

### 3. `ANSWERS.md`
–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤—Å–µ –≤–∞—à–∏ –≤–æ–ø—Ä–æ—Å—ã:
1. –ö–∞–∫ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –ø–æ –¥–æ–º–µ–Ω—É
2. –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∞–Ω–∞–ª–∏–∑)
3. SOCKS5 —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (—Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
4. –ì–æ—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è Telegram
5. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
6. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥—ã

---

## –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

**Control Panel:**
```bash
cd c:\Users\ERA\Documents\gproxy\tg-mtproxy
npm install
npm run build
```

**Node Agent:**
```bash
cd c:\Users\ERA\Documents\gproxy\tg-mtproxy\node-agent
npm install
npm run build
```

### 2. –î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö

**Control Panel (—Å–µ—Ä–≤–µ—Ä —Å –±–æ—Ç–æ–º):**
```bash
scp -r . user@control-server:/opt/mtproxy-control
ssh user@control-server
cd /opt/mtproxy-control
./scripts/setup-control.sh
```

**Node (–ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä):**
```bash
ssh user@node-server
mkdir -p /opt/mtproxy-node
cd /opt/mtproxy-node
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å docker-compose.node.yml, .env.node, node-agent/
./scripts/setup-node.sh
```

### 3. –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

1. –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–¥—ã —á–µ—Ä–µ–∑ `/add_node` (–∏–ª–∏ –≤—Ä—É—á–Ω—É—é –≤ –ë–î)
2. –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã —á–µ—Ä–µ–∑ `/add_secret <node_id>`
3. –î–æ–±–∞–≤–∏—Ç—å SOCKS5 –∞–∫–∫–∞—É–Ω—Ç—ã —á–µ—Ä–µ–∑ API (–ø–æ–∫–∞ `/add_socks5` –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω)
4. –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏ —á–µ—Ä–µ–∑ `/create_subscription`
5. –†–∞–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º JSON —Ñ–∞–π–ª—ã –∏–ª–∏ —Å—Å—ã–ª–∫–∏

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Control Panel Server (Telegram Bot)  ‚îÇ
‚îÇ   - Bot —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è                      ‚îÇ
‚îÇ   - SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö                  ‚îÇ
‚îÇ   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –ª–æ–∫–∞–ª—å–Ω—ã–π –ø—Ä–æ–∫—Å–∏       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚îÇ mTLS / Bearer Token
              ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚ñº                  ‚ñº                  ‚ñº                  ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Node 1 (–ï–≤—Ä–æ–ø–∞)   ‚îÇ ‚îÇ   Node 2 (–ï–≤—Ä–æ–ø–∞)   ‚îÇ ‚îÇ   Node 3 (–°–®–ê)      ‚îÇ ‚îÇ   Node 4 (–ê–∑–∏—è)     ‚îÇ
‚îÇ   - 4 CPU cores     ‚îÇ ‚îÇ   - 4 CPU cores     ‚îÇ ‚îÇ   - 4 CPU cores     ‚îÇ ‚îÇ   - 4 CPU cores     ‚îÇ
‚îÇ   - 4 GB RAM        ‚îÇ ‚îÇ   - 4 GB RAM        ‚îÇ ‚îÇ   - 4 GB RAM        ‚îÇ ‚îÇ   - 4 GB RAM        ‚îÇ
‚îÇ   - 4 MTProto work. ‚îÇ ‚îÇ   - 4 MTProto work. ‚îÇ ‚îÇ   - 4 MTProto work. ‚îÇ ‚îÇ   - 4 MTProto work. ‚îÇ
‚îÇ   - SOCKS5 (3proxy) ‚îÇ ‚îÇ   - SOCKS5 (3proxy) ‚îÇ ‚îÇ   - SOCKS5 (3proxy) ‚îÇ ‚îÇ   - SOCKS5 (3proxy) ‚îÇ
‚îÇ   ~1200 users       ‚îÇ ‚îÇ   ~1200 users       ‚îÇ ‚îÇ   ~800 users        ‚îÇ ‚îÇ   ~800 users        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–æ–¥–ø–∏—Å–∫–∏:

**–ü–æ–¥–ø–∏—Å–∫–∞ "–ï–≤—Ä–æ–ø–∞"** (Node 1, 2)
- 2400 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- MTProto + SOCKS5

**–ü–æ–¥–ø–∏—Å–∫–∞ "–°–®–ê"** (Node 3)
- 800 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- MTProto + SOCKS5

**–ü–æ–¥–ø–∏—Å–∫–∞ "–ê–∑–∏—è"** (Node 4)
- 800 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- MTProto + SOCKS5

**–í—Å–µ–≥–æ:** 4000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã:

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥–∞–º–∏:
- `/nodes` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –Ω–æ–¥
- `/node <id>` - –¥–µ—Ç–∞–ª–∏ –Ω–æ–¥—ã
- `/add_node` - –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–¥—É (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é)
- `/remove_node <id>` - —É–¥–∞–ª–∏—Ç—å –Ω–æ–¥—É
- `/restart_node <id>` - –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–∫—Å–∏

#### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–≤:
- `/links <node_id>` - –≤—Å–µ —Å—Å—ã–ª–∫–∏ –¥–ª—è –Ω–æ–¥—ã
- `/add_secret <node_id>` - –¥–æ–±–∞–≤–∏—Ç—å MTProto —Å–µ–∫—Ä–µ—Ç

#### –ü–æ–¥–ø–∏—Å–∫–∏:
- `/create_subscription <–Ω–∞–∑–≤–∞–Ω–∏–µ>` - —Å–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
- `/subscriptions` - —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–¥–ø–∏—Å–æ–∫
- `/subscription <id>` - –¥–µ—Ç–∞–ª–∏ –ø–æ–¥–ø–∏—Å–∫–∏ + –∫–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- `/stats` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –Ω–æ–¥
- `/health` - –∑–¥–æ—Ä–æ–≤—å–µ –≤—Å–µ—Ö –Ω–æ–¥

### ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- `/add_socks5 <node_id>` - –¥–æ–±–∞–≤–∏—Ç—å SOCKS5 –∞–∫–∫–∞—É–Ω—Ç
- `/logs <node_id>` - –ø–æ–∫–∞–∑–∞—Ç—å –ª–æ–≥–∏ –Ω–æ–¥—ã
- `/set_workers <node_id> <count>` - –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ—Ä–∫–µ—Ä–æ–≤
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ –¥–ª—è `/add_node` (Telegraf Wizard)

---

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–æ–¥–ø–∏—Å–æ–∫

### –°—Ü–µ–Ω–∞—Ä–∏–π: VIP –¥–æ—Å—Ç—É–ø

1. –ê–¥–º–∏–Ω —Å–æ–∑–¥–∞—ë—Ç –ø–æ–¥–ø–∏—Å–∫—É:
   ```
   /create_subscription VIP –ü–æ–ª–Ω—ã–π –î–æ—Å—Ç—É–ø
   ```

2. –í—ã–±–∏—Ä–∞–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –Ω–æ–¥—ã (3-4 –Ω–æ–¥—ã)

3. –ë–æ—Ç –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç:
   - –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–æ–∫—Å–∏
   - –ì–æ—Ç–æ–≤—ã–µ tg:// —Å—Å—ã–ª–∫–∏
   - –ì–æ—Ç–æ–≤—ã–µ socks5:// —Å—Å—ã–ª–∫–∏
   - JSON —Ñ–∞–π–ª –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

4. –ê–¥–º–∏–Ω –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º:
   - **–û–ø—Ü–∏—è A**: JSON —Ñ–∞–π–ª `subscription_1.json` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
   - **–û–ø—Ü–∏—è B**: –°–∫—Ä–∏–Ω—à–æ—Ç —Å —Å—Å—ã–ª–∫–∞–º–∏ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

5. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:
   - **–° JSON**: Settings ‚Üí Network ‚Üí Import from file ‚Üí –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª ‚Üí –ì–æ—Ç–æ–≤–æ!
   - **–ë–µ–∑ JSON**: –ö–ª–∏–∫–Ω—É—Ç—å –Ω–∞ –∫–∞–∂–¥—É—é —Å—Å—ã–ª–∫—É ‚Üí –î–æ–±–∞–≤–∏—Ç—å

6. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–æ—Å—Ç—É–ø:
   ```
   /subscription 1
   ‚è∏ –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å (–∫–Ω–æ–ø–∫–∞)
   ```

7. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –ø—Ä–æ–∫—Å–∏:
   - –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞ –Ω–æ–¥—ã —á–µ—Ä–µ–∑ `/add_secret`
   - –û—Ç–∫—Ä—ã—Ç—å –ø–æ–¥–ø–∏—Å–∫—É: `/subscription 1`
   - –ù–∞–∂–∞—Ç—å **üîÑ –û–±–Ω–æ–≤–∏—Ç—å**
   - –ù–æ–≤—ã–µ –ø—Ä–æ–∫—Å–∏ –ø–æ—è–≤—è—Ç—Å—è –≤ —Å–ø–∏—Å–∫–µ

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `subscriptions`:**
| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| id | INTEGER PRIMARY KEY | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID |
| name | TEXT | –ù–∞–∑–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ |
| description | TEXT | –û–ø–∏—Å–∞–Ω–∏–µ |
| node_ids | TEXT | JSON –º–∞—Å—Å–∏–≤ `[1, 2, 3]` |
| include_mtproto | INTEGER | 0/1 –≤–∫–ª—é—á–∏—Ç—å MTProto |
| include_socks5 | INTEGER | 0/1 –≤–∫–ª—é—á–∏—Ç—å SOCKS5 |
| subscription_url | TEXT UNIQUE | –£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞ |
| is_active | INTEGER | 0/1 –∞–∫—Ç–∏–≤–Ω–∞ |
| access_count | INTEGER | –°—á—ë—Ç—á–∏–∫ –æ–±—Ä–∞—â–µ–Ω–∏–π |
| last_accessed | TEXT | ISO timestamp |
| created_at | TEXT | ISO timestamp |
| updated_at | TEXT | ISO timestamp |

**–ò–Ω–¥–µ–∫—Å—ã:**
- `idx_subscriptions_active` –Ω–∞ `is_active`
- `idx_subscriptions_url` –Ω–∞ `subscription_url`

### Queries (src/database.ts)

```typescript
queries.getAllSubscriptions      // –í—Å–µ –ø–æ–¥–ø–∏—Å–∫–∏
queries.getActiveSubscriptions   // –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ
queries.getSubscriptionById      // –ü–æ ID
queries.getSubscriptionByUrl     // –ü–æ URL
queries.insertSubscription       // –°–æ–∑–¥–∞—Ç—å
queries.updateSubscription       // –û–±–Ω–æ–≤–∏—Ç—å
queries.updateSubscriptionAccess // –û–±–Ω–æ–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫
queries.deactivateSubscription   // –î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
queries.activateSubscription     // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å
queries.deleteSubscription       // –£–¥–∞–ª–∏—Ç—å
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### SOCKS5 –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚úÖ –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π username/password  
‚úÖ –ù–µ–ª—å–∑—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏  
‚úÖ –ü–∞—Ä–æ–ª–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫—Ä–∏–ø—Ç–æ—Å—Ç–æ–π–∫–∏–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º  

### mTLS –º–µ–∂–¥—É Control Panel –∏ Nodes
‚úÖ –í–∑–∞–∏–º–Ω–∞—è TLS –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è  
‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º `scripts/generate-certs.sh`  
‚úÖ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞: Bearer Token (API_TOKEN –≤ .env)  

### MTProto —Å–µ–∫—Ä–µ—Ç—ã
‚úÖ 32-–±–∞–π—Ç–Ω—ã–µ hex —Å—Ç—Ä–æ–∫–∏ (dd prefix –¥–ª—è Fake-TLS)  
‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∫—Ä–∏–ø—Ç–æ—Å—Ç–æ–π–∫–∏–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º  
‚úÖ –ö–∞–∂–¥—ã–π —Å–µ–∫—Ä–µ—Ç —É–Ω–∏–∫–∞–ª–µ–Ω  

---

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (cron –≤ –±–æ—Ç–µ)
- –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç: –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –Ω–æ–¥
- –†–∞–∑ –≤ –¥–µ–Ω—å: –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö (> 7 –¥–Ω–µ–π)

### –†—É—á–Ω–æ–π
```
/stats  - —Ç–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞
/health - –∑–¥–æ—Ä–æ–≤—å–µ –Ω–æ–¥ (CPU, RAM, —Å–µ—Ç—å)
/node 1 - –¥–µ—Ç–∞–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ–¥—ã
```

### –õ–æ–≥–∏
```
/logs 1 - –ª–æ–≥–∏ Node 1 (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)
```

Docker –ª–æ–≥–∏:
```bash
# –ù–∞ –Ω–æ–¥–µ
docker logs mtproxy
docker logs socks5
docker logs node-agent
```

---

## Roadmap (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `/add_socks5` –∫–æ–º–∞–Ω–¥—É
- [ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –¥–∏–∞–ª–æ–≥ –¥–ª—è `/add_node`
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/logs` –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ª–æ–≥–æ–≤
- [ ] –ö–æ–º–∞–Ω–¥–∞ `/set_workers` –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ—Ä–∫–µ—Ä–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (–∂–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫ (–∏–∑–º–µ–Ω–∏—Ç—å –Ω–æ–¥—ã, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è –ø–æ–¥–ø–∏—Å–∫–∏
- [ ] –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∏ (–∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)
- [ ] Telegram Bot API –≤–º–µ—Å—Ç–æ Polling (webhook)

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø—Ä–æ–∫—Å–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥)
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

### –ì–æ—Ç–æ–≤–æ ‚úÖ
- SOCKS5 —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π (username/password)
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–¥–ø–∏—Å–æ–∫ —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º –≤ Telegram
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è 4000+ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–º–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ --nat-info
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

### –í –ø—Ä–æ—Ü–µ—Å—Å–µ ‚ö†Ô∏è
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–¥
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ (/add_socks5, /logs, /set_workers)

### –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ üöÄ
```bash
npm install && npm run build
./scripts/setup-control.sh  # –ù–∞ Control Panel —Å–µ—Ä–≤–µ—Ä–µ
./scripts/setup-node.sh     # –ù–∞ –∫–∞–∂–¥–æ–π –Ω–æ–¥–µ
```

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω!**
